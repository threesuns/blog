{"filter":false,"title":"home.html.erb","tooltip":"/app/views/static_pages/home.html.erb","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":14,"column":8},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":15,"column":0},"end":{"row":15,"column":2},"action":"insert","lines":["  "]},{"start":{"row":15,"column":2},"end":{"row":16,"column":0},"action":"insert","lines":["",""]},{"start":{"row":16,"column":0},"end":{"row":16,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":16,"column":2},"end":{"row":102,"column":13},"action":"insert","lines":["<div style=\"width:100%;height:512px;\" id=\"container\"></div>","\t\t\t\t<script type=\"text/javascript\" src=\"http://api.map.baidu.com/library/TrafficControl/1.2/src/TrafficControl_min.js\"></script>","\t\t\t\t<script type=\"text/javascript\">","\t\t\t\t    //创建地图实例","\t\t\t\t\tvar map = new BMap.Map(\"container\");","\t\t\t\t   \t// 初始化地图,设置中心点坐标和地图级别","\t\t\t\t\tmap.setMapStyle({style:'light'});  ","\t\t\t\t\tmap.centerAndZoom(new BMap.Point(114.371, 30.544), 16); ","\t\t\t\t\t","\t\t\t\t\t//添加地图类型控件","\t\t\t\t\t//map.addControl(new BMap.MapTypeControl());   ","\t\t\t\t\tvar ctrl = new BMapLib.TrafficControl();      ","\t\t\t\t\tmap.addControl(ctrl);","\t\t\t\t\tctrl.setAnchor(BMAP_ANCHOR_BOTTOM_RIGHT); ","\t\t\t\t\t","\t\t\t\t\t// 添加平移缩放控件","\t\t\t\t\tmap.addControl(new BMap.NavigationControl()); ","\t\t\t\t\t","\t\t\t\t\t// 添加比例尺控件","\t\t\t\t\tmap.addControl(new BMap.ScaleControl()); ","\t\t\t\t\t","\t\t\t\t\t// 设置地图城市 此项必选","\t\t\t\t\tmap.setCurrentCity(\"北京\");    ","\t\t\t\t\t","\t\t\t\t\t//开启鼠标滚轮缩放","\t\t\t\t\tmap.enableScrollWheelZoom(true);   ","\t\t\t\t\t","\t\t\t\t\t// 地图西南角和东北角","\t\t\t\t\tvar SW = new BMap.Point(114.09579,30.792);","\t\t\t\t\tvar NE = new BMap.Point(114.675451,30.192);","","\t\t\t\t\tgroundOverlayOptions = {","\t\t\t\t\t\topacity: 1,","\t\t\t\t\t\tdisplayOnMinLevel: 10,","\t\t\t\t\t\tdisplayOnMaxLevel: 14","\t\t\t\t\t}","","\t\t\t\t\t// IP定位","\t\t\t\t\tvar point = new BMap.Point(114.371, 30.544);","\t\t\t\t\tmap.centerAndZoom(point,12);","","\t\t\t\t\tfunction myFun(result){","\t\t\t\t\t\tvar cityName = result.name;","\t\t\t\t\t\tmap.setCenter(cityName);","\t\t\t\t\t\talert(\"当前定位城市:\"+cityName);","\t\t\t\t\t}","\t\t\t\t\tvar myCity = new BMap.LocalCity();","\t\t\t\t\tmyCity.get(myFun);","\t\t\t\t\t","\t\t\t\t\tmap.addTileLayer(new BMap.PanoramaCoverageLayer());","","\t\t\t\t\t//构造全景控件","\t\t\t\t\tvar stCtrl = new BMap.PanoramaControl(); ","\t\t\t\t\tstCtrl.setOffset(new BMap.Size(20, 20));","\t\t\t\t\t","\t\t\t\t\t//添加全景控件","\t\t\t\t\tmap.addControl(stCtrl);","\t\t\t\t\t","\t\t\t\t\t// 初始化GroundOverlay","\t\t\t\t\tvar groundOverlay = new BMap.GroundOverlay(new BMap.Bounds(SW, NE), groundOverlayOptions);","","\t\t\t\t\t// 设置GroundOverlay的图片地址","\t\t\t\t\tgroundOverlay.setImageURL('http://lbsyun.baidu.com/jsdemo/img/si-huan.png');","","\t\t\t\t\t// 单击事件","\t\t\t\t\tgroundOverlay.addEventListener('click', function (clickEvent) {","\t\t\t\t\t// console.log('clickEvent', clickEvent);","\t\t\t\t\t });","","\t\t\t\t\t// 双击事件","\t\t\t\t\tgroundOverlay.addEventListener('dblclick', function (dblclickEvent) {","\t\t\t\t\t// console.log('dblclickEvent', dblclickEvent);","\t\t\t\t\t});","","\t\t\t\t\tfunction addGroundOverlay() {","\t\t\t\t\t// 添加GroundOverlay","\t\t\t\t\t\tmap.addOverlay(groundOverlay);","\t\t\t\t\t}","","\t\t\t\t\tfunction removeGroundOverlay() {","\t\t\t\t\t// 移除GroundOverlay","\t\t\t\t\t\tmap.removeOverlay(groundOverlay);","\t\t\t\t\t}","\t\t\t\t\t","\t\t\t\t\t","\t\t\t\t   ","\t\t\t\t</script>"],"id":3}],[{"start":{"row":102,"column":13},"end":{"row":103,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":103,"column":0},"end":{"row":103,"column":4},"action":"insert","lines":["\t\t\t\t"]}],[{"start":{"row":100,"column":4},"end":{"row":100,"column":5},"action":"remove","lines":["\t"],"id":5},{"start":{"row":100,"column":3},"end":{"row":100,"column":4},"action":"remove","lines":["\t"]},{"start":{"row":100,"column":2},"end":{"row":100,"column":3},"action":"remove","lines":["\t"]},{"start":{"row":100,"column":1},"end":{"row":100,"column":2},"action":"remove","lines":["\t"]},{"start":{"row":100,"column":0},"end":{"row":100,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":99,"column":5},"end":{"row":100,"column":0},"action":"remove","lines":["",""]},{"start":{"row":99,"column":4},"end":{"row":99,"column":5},"action":"remove","lines":["\t"]}],[{"start":{"row":99,"column":3},"end":{"row":99,"column":4},"action":"remove","lines":["\t"],"id":6},{"start":{"row":99,"column":2},"end":{"row":99,"column":3},"action":"remove","lines":["\t"]},{"start":{"row":99,"column":1},"end":{"row":99,"column":2},"action":"remove","lines":["\t"]},{"start":{"row":99,"column":0},"end":{"row":99,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":98,"column":6},"end":{"row":99,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":23,"column":47},"end":{"row":23,"column":48},"action":"remove","lines":["3"],"id":7},{"start":{"row":23,"column":47},"end":{"row":23,"column":48},"action":"insert","lines":["4"]}],[{"start":{"row":44,"column":39},"end":{"row":44,"column":41},"action":"remove","lines":["30"],"id":8},{"start":{"row":44,"column":39},"end":{"row":44,"column":40},"action":"insert","lines":["4"]},{"start":{"row":44,"column":40},"end":{"row":44,"column":41},"action":"insert","lines":["1"]}],[{"start":{"row":45,"column":40},"end":{"row":45,"column":42},"action":"remove","lines":["30"],"id":9},{"start":{"row":45,"column":40},"end":{"row":45,"column":41},"action":"insert","lines":["3"]},{"start":{"row":45,"column":41},"end":{"row":45,"column":42},"action":"insert","lines":["9"]}],[{"start":{"row":44,"column":33},"end":{"row":44,"column":35},"action":"remove","lines":["09"],"id":10},{"start":{"row":44,"column":33},"end":{"row":44,"column":34},"action":"insert","lines":["6"]},{"start":{"row":44,"column":34},"end":{"row":44,"column":35},"action":"insert","lines":["7"]}],[{"start":{"row":45,"column":31},"end":{"row":45,"column":32},"action":"remove","lines":["4"],"id":11},{"start":{"row":45,"column":31},"end":{"row":45,"column":32},"action":"insert","lines":["5"]}],[{"start":{"row":45,"column":33},"end":{"row":45,"column":34},"action":"remove","lines":["6"],"id":12},{"start":{"row":45,"column":33},"end":{"row":45,"column":34},"action":"insert","lines":["0"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":45,"column":34},"end":{"row":45,"column":34},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1548233929717,"hash":"16ca97aa2590b255a2b1c157774d1fedf8327d39"}